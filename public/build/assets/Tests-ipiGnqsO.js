import{D as ue,a as ie,_ as de}from"./AppLayout.vue_vue_type_script_setup_true_lang-3cveP8dJ.js";import{d,a as f,o as i,w as t,r as c,D as T,E as q,u as e,g as P,m as $,e as U,G as _e,n as pe,p as x,A as R,f as a,c as fe,i as H,s as ce,b as h,q as k,y as n,z as b,F as L,x as me,l as S}from"./app-BByGJHgL.js";import{a as ge,_ as ve}from"./index-BifsK6gg.js";import{_ as ye}from"./AlertTitle.vue_vue_type_script_setup_true_lang-CkcuIZrN.js";import{b as De,c as ke,u as I}from"./Presence-UHlEpX6p.js";import{a as w,r as F}from"./useForwardExpose-DiSxg1hu.js";import{D as Y,b as be,c as $e,T as xe,d as Ae}from"./SheetContent.vue_vue_type_script_setup_true_lang-BC6cCKyD.js";import{c as A,a as Z,b as ee,_ as j}from"./createLucideIcon-Cn7wMbCZ.js";import{d as G,_ as J,a as Q,b as W,c as X}from"./CardTitle.vue_vue_type_script_setup_true_lang-O2vfb-j_.js";import{_ as Ce,a as we,b as Be,c as je,d as Pe,e as Te}from"./DialogTitle.vue_vue_type_script_setup_true_lang-teFV4kbj.js";import{_ as z,a as K}from"./Label.vue_vue_type_script_setup_true_lang-B5UNn36A.js";import{_ as qe,a as Me,b as N,c as V,d as he,e as O}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiNEXCM5.js";import{T as Se}from"./trash-2-pNH7JrLW.js";import"./VisuallyHidden-yMtFJvwq.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CQNj7ljZ.js";import"./clipboard-list-CoiNVZaj.js";var Oe=d({__name:"AlertDialogAction",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const l=o;return w(),(r,u)=>(i(),f(e(Y),T(q(l)),{default:t(()=>[c(r.$slots,"default")]),_:3},16))}}),Fe=Oe;const[Ee,Ve]=ke("AlertDialogContent");var ze=d({__name:"AlertDialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const r=o,m=De(l);w();const _=P();return Ve({onCancelElementChange:g=>{_.value=g}}),(g,y)=>(i(),f(e(be),$({...r,...e(m)},{role:"alertdialog",onPointerDownOutside:y[0]||(y[0]=U(()=>{},["prevent"])),onInteractOutside:y[1]||(y[1]=U(()=>{},["prevent"])),onOpenAutoFocus:y[2]||(y[2]=()=>{_e(()=>{_.value?.focus({preventScroll:!0})})})}),{default:t(()=>[c(g.$slots,"default")]),_:3},16))}}),Ke=ze,Ne=d({__name:"AlertDialogCancel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(o){const l=o,r=Ee(),{forwardRef:u,currentElement:m}=w();return pe(()=>{r.onCancelElementChange(m.value)}),(_,g)=>(i(),f(e(Y),$(l,{ref:e(u)}),{default:t(()=>[c(_.$slots,"default")]),_:3},16))}}),Re=Ne,Ie=d({__name:"AlertDialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(o){const l=o;return w(),(r,u)=>(i(),f(e(ue),T(q(l)),{default:t(()=>[c(r.$slots,"default")]),_:3},16))}}),Ue=Ie,He=d({__name:"AlertDialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const l=o;return w(),(r,u)=>(i(),f(e($e),T(q(l)),{default:t(()=>[c(r.$slots,"default")]),_:3},16))}}),Le=He,Ge=d({__name:"AlertDialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(o){const l=o;return(r,u)=>(i(),f(e(xe),T(q(l)),{default:t(()=>[c(r.$slots,"default")]),_:3},16))}}),Je=Ge,Qe=d({__name:"AlertDialogRoot",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1}},emits:["update:open"],setup(o,{emit:l}){const m=I(o,l);return w(),(_,g)=>(i(),f(e(Ae),$(e(m),{modal:!0}),{default:t(y=>[c(_.$slots,"default",T(q(y)))]),_:3},16))}}),We=Qe,Xe=d({__name:"AlertDialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(o){const l=o;return w(),(r,u)=>(i(),f(e(ie),T(q(l)),{default:t(()=>[c(r.$slots,"default")]),_:3},16))}}),Ye=Xe;const Ze=d({__name:"CardFooter",props:{class:{}},setup(o){const l=o;return(r,u)=>(i(),x("div",{"data-slot":"card-footer",class:R(e(A)("flex items-center px-6 [.border-t]:pt-6",l.class))},[c(r.$slots,"default")],2))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=Z("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=Z("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),at=d({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(o,{emit:l}){const m=I(o,l);return(_,g)=>(i(),f(e(We),$({"data-slot":"alert-dialog"},e(m)),{default:t(()=>[c(_.$slots,"default")]),_:3},16))}}),st=d({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const l=o,r=F(l,"class");return(u,m)=>(i(),f(e(Fe),$(e(r),{class:e(A)(e(ee)(),l.class)}),{default:t(()=>[c(u.$slots,"default")]),_:3},16,["class"]))}}),lt=d({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const l=o,r=F(l,"class");return(u,m)=>(i(),f(e(Re),$(e(r),{class:e(A)(e(ee)({variant:"outline"}),"mt-2 sm:mt-0",l.class)}),{default:t(()=>[c(u.$slots,"default")]),_:3},16,["class"]))}}),ot=d({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(o,{emit:l}){const r=o,u=l,m=F(r,"class"),_=I(m,u);return(g,y)=>(i(),f(e(Je),null,{default:t(()=>[a(e(Le),{"data-slot":"alert-dialog-overlay",class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80"}),a(e(Ke),$({"data-slot":"alert-dialog-content"},e(_),{class:e(A)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r.class)}),{default:t(()=>[c(g.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),rt=d({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const l=o,r=F(l,"class");return(u,m)=>(i(),f(e(Ue),$({"data-slot":"alert-dialog-description"},e(r),{class:e(A)("text-muted-foreground text-sm",l.class)}),{default:t(()=>[c(u.$slots,"default")]),_:3},16,["class"]))}}),nt=d({__name:"AlertDialogFooter",props:{class:{}},setup(o){const l=o;return(r,u)=>(i(),x("div",{"data-slot":"alert-dialog-footer",class:R(e(A)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",l.class))},[c(r.$slots,"default")],2))}}),ut=d({__name:"AlertDialogHeader",props:{class:{}},setup(o){const l=o;return(r,u)=>(i(),x("div",{"data-slot":"alert-dialog-header",class:R(e(A)("flex flex-col gap-2 text-center sm:text-left",l.class))},[c(r.$slots,"default")],2))}}),it=d({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(o){const l=o,r=F(l,"class");return(u,m)=>(i(),f(e(Ye),$({"data-slot":"alert-dialog-title"},e(r),{class:e(A)("text-lg font-semibold",l.class)}),{default:t(()=>[c(u.$slots,"default")]),_:3},16,["class"]))}}),dt={class:"grid gap-4 p-4 md:grid-cols-2"},_t={class:"grid max-w-xs gap-2"},pt={key:0,class:"text-sm text-red-600"},ft={class:"rounded-lg border"},ct=["href"],mt={class:"flex justify-end gap-2"},gt={class:"grid gap-4"},vt={class:"grid gap-2"},yt={key:0,class:"text-sm text-red-600"},Dt={class:"grid gap-2"},kt={key:0,class:"text-sm text-red-600"},Et=d({__name:"Tests",props:{settings:{},subjects:{}},setup(o){const l=o,r=[{title:"Tes",href:route("admin.tests.index")}],u=P(""),m=fe(()=>u.value.length>0);function _(D){u.value=D,window.clearTimeout(_._t),_._t=window.setTimeout(()=>u.value="",3500)}const g=H({pass_mark:l.settings?.passMark??70});function y(){g.post(route("admin.tests.settings.update"),{preserveScroll:!0,onSuccess:()=>{_("KKM berhasil disimpan."),S.reload({only:["settings"],preserveScroll:!0})}})}const C=P(!1),B=P(null),v=H({id:void 0,name:"",link_url:""});function te(){B.value=null,v.reset(),C.value=!0}function ae(D){B.value=D,v.id=D.id,v.name=D.name,v.link_url=D.link_url,C.value=!0}function se(){B.value?.id?v.put(route("admin.tests.subjects.update",B.value.id),{preserveScroll:!0,onSuccess:()=>{C.value=!1,_("Mata pelajaran diperbarui."),S.reload({only:["subjects"],preserveScroll:!0})}}):v.post(route("admin.tests.subjects.store"),{preserveScroll:!0,onSuccess:()=>{C.value=!1,_("Mata pelajaran ditambahkan."),S.reload({only:["subjects"],preserveScroll:!0})}})}const M=P(!1),E=P(null);function le(D){E.value=D,M.value=!0}function oe(){E.value&&S.delete(route("admin.tests.subjects.destroy",E.value),{preserveScroll:!0,onSuccess:()=>{M.value=!1,E.value=null,_("Mata pelajaran dihapus."),S.reload({only:["subjects"],preserveScroll:!0})},onFinish:()=>{M.value=!1}})}return(D,s)=>(i(),x(L,null,[a(e(ce),{title:"Kelola Tes"}),a(de,{breadcrumbs:r},{default:t(()=>[m.value?(i(),f(e(ge),{key:0,class:"mx-4 mt-4 mb-0"},{default:t(()=>[a(e(ye),null,{default:t(()=>s[6]||(s[6]=[n("Berhasil",-1)])),_:1,__:[6]}),a(e(ve),null,{default:t(()=>[n(b(u.value),1)]),_:1})]),_:1})):h("",!0),k("div",dt,[a(e(G),null,{default:t(()=>[a(e(J),null,{default:t(()=>[a(e(Q),null,{default:t(()=>s[7]||(s[7]=[n("KKM",-1)])),_:1,__:[7]}),a(e(W),null,{default:t(()=>s[8]||(s[8]=[n("Nilai kelulusan minimal (0–100).",-1)])),_:1,__:[8]})]),_:1}),a(e(X),null,{default:t(()=>[k("div",_t,[a(e(z),{for:"pass_mark"},{default:t(()=>s[9]||(s[9]=[n("KKM",-1)])),_:1,__:[9]}),a(e(K),{id:"pass_mark",modelValue:e(g).pass_mark,"onUpdate:modelValue":s[0]||(s[0]=p=>e(g).pass_mark=p),modelModifiers:{number:!0},max:"100",min:"0",placeholder:"70",type:"number"},null,8,["modelValue"]),e(g).errors.pass_mark?(i(),x("p",pt,b(e(g).errors.pass_mark),1)):h("",!0)])]),_:1}),a(e(Ze),null,{default:t(()=>[a(e(j),{disabled:e(g).processing,onClick:y},{default:t(()=>s[10]||(s[10]=[n(" Simpan ",-1)])),_:1,__:[10]},8,["disabled"])]),_:1})]),_:1}),a(e(G),{class:"md:col-span-1"},{default:t(()=>[a(e(J),{class:"flex-row items-center justify-between space-y-0"},{default:t(()=>[k("div",null,[a(e(Q),null,{default:t(()=>s[11]||(s[11]=[n("Mata Pelajaran",-1)])),_:1,__:[11]}),a(e(W),null,{default:t(()=>s[12]||(s[12]=[n("Kelola nama pelajaran & tautan tes.",-1)])),_:1,__:[12]})]),a(e(j),{size:"sm",onClick:te},{default:t(()=>[a(e(tt),{class:"mr-2 h-4 w-4"}),s[13]||(s[13]=n(" Tambah ",-1))]),_:1,__:[13]})]),_:1}),a(e(X),null,{default:t(()=>[k("div",ft,[a(e(qe),null,{default:t(()=>[a(e(Me),null,{default:t(()=>[a(e(N),null,{default:t(()=>[a(e(V),{class:"w-[48px] text-center"},{default:t(()=>s[14]||(s[14]=[n("#",-1)])),_:1,__:[14]}),a(e(V),null,{default:t(()=>s[15]||(s[15]=[n("Nama",-1)])),_:1,__:[15]}),a(e(V),null,{default:t(()=>s[16]||(s[16]=[n("Tautan Tes",-1)])),_:1,__:[16]}),a(e(V),{class:"w-[140px] text-right"},{default:t(()=>s[17]||(s[17]=[n("Aksi",-1)])),_:1,__:[17]})]),_:1})]),_:1}),a(e(he),null,{default:t(()=>[(i(!0),x(L,null,me(l.subjects,(p,re)=>(i(),f(e(N),{key:p.id},{default:t(()=>[a(e(O),{class:"text-center"},{default:t(()=>[n(b(re+1),1)]),_:2},1024),a(e(O),{class:"font-medium"},{default:t(()=>[n(b(p.name),1)]),_:2},1024),a(e(O),{class:"truncate"},{default:t(()=>[k("a",{href:p.link_url,class:"text-emerald-700 hover:underline",rel:"noopener",target:"_blank"},b(p.link_url),9,ct)]),_:2},1024),a(e(O),{class:"text-right"},{default:t(()=>[k("div",mt,[a(e(j),{size:"sm",variant:"outline",onClick:ne=>ae(p)},{default:t(()=>[a(e(et),{class:"mr-1 h-4 w-4"}),s[18]||(s[18]=n(" Edit ",-1))]),_:2,__:[18]},1032,["onClick"]),a(e(j),{size:"sm",variant:"destructive",onClick:ne=>le(p.id)},{default:t(()=>[a(e(Se),{class:"mr-1 h-4 w-4"}),s[19]||(s[19]=n(" Hapus ",-1))]),_:2,__:[19]},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),l.subjects.length===0?(i(),f(e(N),{key:0},{default:t(()=>[a(e(O),{class:"text-center text-muted-foreground",colspan:"4"},{default:t(()=>s[20]||(s[20]=[n(" Belum ada mata pelajaran. ",-1)])),_:1,__:[20]})]),_:1})):h("",!0)]),_:1})]),_:1})])]),_:1})]),_:1})]),a(e(Ce),{open:C.value,"onUpdate:open":s[4]||(s[4]=p=>C.value=p)},{default:t(()=>[a(e(we),{class:"sm:max-w-lg"},{default:t(()=>[a(e(Be),null,{default:t(()=>[a(e(je),null,{default:t(()=>[n(b(B.value?.id?"Edit Mata Pelajaran":"Tambah Mata Pelajaran"),1)]),_:1}),a(e(Pe),null,{default:t(()=>s[21]||(s[21]=[n("Lengkapi data di bawah ini.",-1)])),_:1,__:[21]})]),_:1}),k("div",gt,[k("div",vt,[a(e(z),{for:"name"},{default:t(()=>s[22]||(s[22]=[n("Nama",-1)])),_:1,__:[22]}),a(e(K),{id:"name",modelValue:e(v).name,"onUpdate:modelValue":s[1]||(s[1]=p=>e(v).name=p),placeholder:"Matematika"},null,8,["modelValue"]),e(v).errors.name?(i(),x("p",yt,b(e(v).errors.name),1)):h("",!0)]),k("div",Dt,[a(e(z),{for:"link"},{default:t(()=>s[23]||(s[23]=[n("Tautan Tes",-1)])),_:1,__:[23]}),a(e(K),{id:"link",modelValue:e(v).link_url,"onUpdate:modelValue":s[2]||(s[2]=p=>e(v).link_url=p),placeholder:"https://contoh.com/ujian/matematika"},null,8,["modelValue"]),e(v).errors.link_url?(i(),x("p",kt,b(e(v).errors.link_url),1)):h("",!0)])]),a(e(Te),null,{default:t(()=>[a(e(j),{variant:"secondary",onClick:s[3]||(s[3]=p=>C.value=!1)},{default:t(()=>s[24]||(s[24]=[n("Batal",-1)])),_:1,__:[24]}),a(e(j),{disabled:e(v).processing,onClick:se},{default:t(()=>[n(b(B.value?.id?"Simpan":"Tambah"),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),a(e(at),{open:M.value,"onUpdate:open":s[5]||(s[5]=p=>M.value=p)},{default:t(()=>[a(e(ot),null,{default:t(()=>[a(e(ut),null,{default:t(()=>[a(e(it),null,{default:t(()=>s[25]||(s[25]=[n("Hapus mata pelajaran?",-1)])),_:1,__:[25]}),a(e(rt),null,{default:t(()=>s[26]||(s[26]=[n("Tindakan ini tidak dapat dibatalkan.",-1)])),_:1,__:[26]})]),_:1}),a(e(nt),null,{default:t(()=>[a(e(lt),null,{default:t(()=>s[27]||(s[27]=[n("Batal",-1)])),_:1,__:[27]}),a(e(st),{onClick:oe},{default:t(()=>s[28]||(s[28]=[n("Hapus",-1)])),_:1,__:[28]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Et as default};
