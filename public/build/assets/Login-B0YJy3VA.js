import{d as g,c as _,a as m,o as c,w as d,r as q,b as I,u as e,m as B,h as L,e as G,B as K,f as r,g as x,k as O,l as D,s as H,y as b,H as U,q as y,A as J,p as Q}from"./app-BT-J5HA_.js";import{_ as R}from"./InputError.vue_vue_type_script_setup_true_lang-LFnLSODp.js";import{a as W,_ as X}from"./index-CuAZAWlf.js";import{P as S,a as $,c as Y,_ as Z}from"./createLucideIcon-Cmbd4lls.js";import{c as A,P as ee,u as ae}from"./Presence-BZAD0mwG.js";import{i as C}from"./nullish-CHIgUVhi.js";import{i as V,u as te}from"./useFormControl-DBCkrsN1.js";import{a as T,u as se}from"./useForwardExpose-C_9RBLtz.js";import{V as oe,R as le}from"./VisuallyHiddenInput-BvtzBXFi.js";import{C as re}from"./check-hMJksceZ.js";import{_ as w,a as P}from"./Label.vue_vue_type_script_setup_true_lang-SQvm72wP.js";import{L as de,_ as ne}from"./AuthLayout.vue_vue_type_script_setup_true_lang-NoARWtkz.js";import"./VisuallyHidden-CkUy6CKc.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CCrFWoHE.js";function E(o,i){return C(o)?!1:Array.isArray(o)?o.some(t=>V(t,i)):V(o,i)}const[ie,ze]=A("CheckboxGroupRoot");function k(o){return o==="indeterminate"}function F(o){return k(o)?"indeterminate":o?"checked":"unchecked"}const[ue,ce]=A("CheckboxRoot");var pe=g({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(o,{emit:i}){const t=o,n=i,{forwardRef:u,currentElement:f}=T(),l=ie(null),a=se(t,"modelValue",n,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),v=_(()=>l?.disabled.value||t.disabled),p=_(()=>C(l?.modelValue.value)?a.value==="indeterminate"?"indeterminate":a.value:E(l.modelValue.value,t.value));function h(){if(C(l?.modelValue.value))a.value=k(a.value)?!0:!a.value;else{const s=[...l.modelValue.value||[]];if(E(s,t.value)){const M=s.findIndex(z=>V(z,t.value));s.splice(M,1)}else s.push(t.value);l.modelValue.value=s}}const N=te(f),j=_(()=>t.id&&f.value?document.querySelector(`[for="${t.id}"]`)?.innerText:void 0);return ce({disabled:v,state:p}),(s,M)=>(c(),m(K(e(l)?.rovingFocus.value?e(le):e(S)),B(s.$attrs,{id:s.id,ref:e(u),role:"checkbox","as-child":s.asChild,as:s.as,type:s.as==="button"?"button":void 0,"aria-checked":e(k)(p.value)?"mixed":p.value,"aria-required":s.required,"aria-label":s.$attrs["aria-label"]||j.value,"data-state":e(F)(p.value),"data-disabled":v.value?"":void 0,disabled:v.value,focusable:e(l)?.rovingFocus.value?!v.value:void 0,onKeydown:L(G(()=>{},["prevent"]),["enter"]),onClick:h}),{default:d(()=>[q(s.$slots,"default",{modelValue:e(a),state:p.value}),e(N)&&s.name&&!e(l)?(c(),m(e(oe),{key:0,type:"checkbox",checked:!!p.value,name:s.name,value:s.value,disabled:v.value,required:s.required},null,8,["checked","name","value","disabled","required"])):I("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),me=pe,fe=g({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(o){const{forwardRef:i}=T(),t=ue();return(n,u)=>(c(),m(e(ee),{present:n.forceMount||e(k)(e(t).state.value)||e(t).state.value===!0},{default:d(()=>[r(e(S),B({ref:e(i),"data-state":e(F)(e(t).state.value),"data-disabled":e(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":n.asChild,as:n.as},n.$attrs),{default:d(()=>[q(n.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),ve=fe;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=$("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=$("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=$("TriangleAlertIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),_e=g({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(o,{emit:i}){const t=o,n=i,u=_(()=>{const{class:l,...a}=t;return a}),f=ae(u,n);return(l,a)=>(c(),m(e(me),B({"data-slot":"checkbox"},e(f),{class:e(Y)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:d(()=>[r(e(ve),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:d(()=>[q(l.$slots,"default",{},()=>[r(e(re),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}}),ke={class:"grid gap-6"},ge={class:"grid gap-2"},xe={class:"grid gap-2"},we={class:"relative"},Ce={class:"flex items-center gap-3"},Ve={key:1},Le=g({__name:"Login",props:{canResetPassword:{type:Boolean},defaultPassword:{type:Boolean},prefill:{}},setup(o){const i=o,t=x(i.prefill?.phone??""),n=x(""),u=x(!1);let f;return O(t,l=>{f&&clearTimeout(f);const a=(l??"").trim();a.length<6||(f=window.setTimeout(()=>{D.visit(route("login"),{method:"get",data:{phone:a},only:["defaultPassword","prefill"],preserveState:!0,replace:!0})},300))}),(l,a)=>(c(),m(ne,{description:"Masukkan nomor telepon dan kata sandi untuk masuk",title:"Masuk ke akun Anda"},{default:d(()=>[r(e(H),{title:"Masuk"}),i.defaultPassword?(c(),m(e(W),{key:0,class:"mb-4 flex items-start gap-2",variant:"warning"},{default:d(()=>[r(e(be),{class:"mt-0.5 h-4 w-4"}),r(e(X),{class:"flex-1"},{default:d(()=>a[3]||(a[3]=[b(" Password Anda masih sama dengan nomor telepon. Demi keamanan, segera ganti password di menu settings. ",-1)])),_:1,__:[3]})]),_:1})):I("",!0),r(e(U),{action:l.route("login"),"reset-on-success":["password"],class:"flex flex-col gap-6",method:"post"},{default:d(({errors:v,processing:p})=>[y("div",ke,[y("div",ge,[r(e(w),{for:"phone"},{default:d(()=>a[4]||(a[4]=[b("Nomor Telepon",-1)])),_:1,__:[4]}),r(e(P),{id:"phone",modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=h=>t.value=h),autocomplete:"tel",autofocus:"",inputmode:"tel",name:"phone",placeholder:"08xxxxxxxxxx",required:"",type:"tel"},null,8,["modelValue"]),r(R,{message:v.phone},null,8,["message"])]),y("div",xe,[r(e(w),{for:"password"},{default:d(()=>a[5]||(a[5]=[b("Kata Sandi",-1)])),_:1,__:[5]}),y("div",we,[r(e(P),{id:"password",modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=h=>n.value=h),type:u.value?"text":"password",autocomplete:"current-password",class:"pr-12",name:"password",required:""},null,8,["modelValue","type"]),y("button",{class:J([u.value?"text-yellow-600 hover:bg-yellow-100 hover:text-yellow-700":"text-emerald-600 hover:bg-emerald-100 hover:text-emerald-700","absolute inset-y-0 right-0 mr-2 grid place-items-center rounded-md p-1 transition-colors"]),"aria-label":"Toggle password",type:"button",onClick:a[2]||(a[2]=h=>u.value=!u.value)},[u.value?(c(),m(e(he),{key:1,class:"h-4 w-4"})):(c(),m(e(ye),{key:0,class:"h-4 w-4"}))],2)]),r(R,{message:v.password},null,8,["message"])]),y("div",Ce,[r(e(_e),{id:"remember",name:"remember"}),r(e(w),{for:"remember"},{default:d(()=>a[6]||(a[6]=[b("Ingat saya",-1)])),_:1,__:[6]})]),r(e(Z),{disabled:p,class:"mt-2 w-full bg-emerald-600 text-white hover:bg-emerald-700",type:"submit"},{default:d(()=>[p?(c(),m(e(de),{key:0,class:"h-4 w-4 animate-spin"})):(c(),Q("span",Ve,"Masuk"))]),_:2},1032,["disabled"])])]),_:1},8,["action"])]),_:1}))}});export{Le as default};
