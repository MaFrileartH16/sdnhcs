import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-DUEhGyxI.js";import{d as K,c as R,g as x,k as W,l as G,p as r,o as u,f as t,u as e,s as I,w as l,q as d,b as V,y as n,F as c,x as g,a as k,z as i,v as J,A as O}from"./app-B4BXTvEy.js";import{S as Q,_ as X,a as Y,b as Z,c as ee,d as te,e as le,F as ae,f as se,g as ne,h as ue,E as j}from"./SelectValue.vue_vue_type_script_setup_true_lang-DEDl95iB.js";import{_ as T}from"./createLucideIcon-L1Asbn7X.js";import{_ as L,a as h,b as P,c as F,d as M,e as q}from"./DialogTitle.vue_vue_type_script_setup_true_lang-zvaYomIY.js";import{a as re,_ as ie}from"./Label.vue_vue_type_script_setup_true_lang-D2dL-c3c.js";import{_ as de,a as oe,b as S,c as m,d as fe,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-DfUALwzo.js";import{C as _e}from"./clipboard-list-ClMlf6WL.js";import"./useForwardExpose-BtdEDaM5.js";import"./Presence-Br0sQ93d.js";import"./SheetContent.vue_vue_type_script_setup_true_lang-S-ZUqMrU.js";import"./VisuallyHidden-AbQN08k-.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-MyMxiyf_.js";import"./check-BhayVdXo.js";import"./useFormControl-BmH4_07s.js";const me={class:"flex h-full flex-1 flex-col gap-4 p-4"},pe={class:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between"},ce={class:"relative w-full md:max-w-md"},ve={class:"grid gap-1"},xe={class:"rounded-xl border border-sidebar-border/70 dark:border-sidebar-border"},ge={class:"flex justify-end gap-2"},ke={key:0,class:"flex items-center justify-center py-2"},be=["innerHTML"],ye={class:"space-y-2"},$e={key:0,class:"text-sm text-muted-foreground"},we={key:1,class:"space-y-2"},Te=["href"],Ce={key:1,class:"text-sm text-muted-foreground"},Se={class:"space-y-2"},Be={class:"space-y-2"},Ve=["href"],Re=K({__name:"Applicants",props:{items:{},filters:{},meta:{}},setup(z){const o=z,H=[{title:"Pendaftar",href:route("admin.applicants.index")}],B=R(()=>(o.items.data||[]).filter(f=>!!f)),b=x(o.filters.q??""),y=x(String(o.filters.perPage??10));let C;W([b,y],()=>{C&&clearTimeout(C),C=window.setTimeout(()=>{G.get(route("admin.applicants.index"),{q:b.value,perPage:y.value},{preserveScroll:!0,preserveState:!0,replace:!0,only:["items","filters","meta"]})},300)});const $=x(!1),w=x(!1),p=x(null);function N(f){p.value=f,$.value=!0}function U(f){p.value=f,w.value=!0}function A(f){return f==="Lulus Tes"?"default":f==="Tidak Lulus Tes"?"destructive":"secondary"}return(f,a)=>(u(),r(c,null,[t(e(I),{title:"Pendaftar"}),t(E,{breadcrumbs:H},{default:l(()=>[d("div",me,[d("div",pe,[d("div",ce,[t(e(Q),{class:"absolute top-1/2 left-2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(re),{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=s=>b.value=s),class:"pl-8",placeholder:"Cari siswa/wali/telepon…"},null,8,["modelValue"])]),d("div",ve,[t(e(ie),{class:"text-xs"},{default:l(()=>a[6]||(a[6]=[n("Baris",-1)])),_:1,__:[6]}),t(e(X),{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=s=>y.value=s)},{default:l(()=>[t(e(Y),{class:"w-[110px]"},{default:l(()=>[t(e(Z),{placeholder:String(o.filters.perPage??10)},null,8,["placeholder"])]),_:1}),t(e(ee),null,{default:l(()=>[(u(!0),r(c,null,g(o.meta.perPages,s=>(u(),k(e(te),{key:s,value:String(s)},{default:l(()=>[n(i(s),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),d("div",xe,[t(e(de),null,{default:l(()=>[t(e(oe),null,{default:l(()=>[t(e(S),null,{default:l(()=>[t(e(m),{class:"w-[48px] text-center"},{default:l(()=>a[7]||(a[7]=[n("#",-1)])),_:1,__:[7]}),t(e(m),null,{default:l(()=>a[8]||(a[8]=[n("Siswa",-1)])),_:1,__:[8]}),t(e(m),null,{default:l(()=>a[9]||(a[9]=[n("Wali",-1)])),_:1,__:[9]}),t(e(m),null,{default:l(()=>a[10]||(a[10]=[n("Telepon",-1)])),_:1,__:[10]}),t(e(m),null,{default:l(()=>a[11]||(a[11]=[n("Rata-rata",-1)])),_:1,__:[11]}),t(e(m),null,{default:l(()=>a[12]||(a[12]=[n("Status",-1)])),_:1,__:[12]}),t(e(m),null,{default:l(()=>a[13]||(a[13]=[n("Daftar",-1)])),_:1,__:[13]}),t(e(m),{class:"w-[220px] text-right"},{default:l(()=>a[14]||(a[14]=[n("Aksi",-1)])),_:1,__:[14]})]),_:1})]),_:1}),t(e(fe),null,{default:l(()=>[(u(!0),r(c,null,g(B.value,(s,v)=>(u(),k(e(S),{key:s.id},{default:l(()=>[t(e(_),{class:"text-center"},{default:l(()=>[n(i(v+1),1)]),_:2},1024),t(e(_),{class:"font-medium"},{default:l(()=>[n(i(s.student_name),1)]),_:2},1024),t(e(_),null,{default:l(()=>[n(i(s.guardian_name),1)]),_:2},1024),t(e(_),null,{default:l(()=>[n(i(s.guardian_phone),1)]),_:2},1024),t(e(_),null,{default:l(()=>[n(i(s.average_score??"-"),1)]),_:2},1024),t(e(_),null,{default:l(()=>[t(e(le),{variant:A(s.status)},{default:l(()=>[n(i(s.status),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(_),null,{default:l(()=>[n(i(s.created_at??"-"),1)]),_:2},1024),t(e(_),{class:"text-right"},{default:l(()=>[d("div",ge,[t(e(T),{size:"sm",variant:"outline",onClick:D=>N(s)},{default:l(()=>[t(e(ae),{class:"mr-2 h-4 w-4"}),a[15]||(a[15]=n(" Lihat Berkas ",-1))]),_:2,__:[15]},1032,["onClick"]),t(e(T),{class:"bg-emerald-600 text-white hover:bg-emerald-700",size:"sm",onClick:D=>U(s)},{default:l(()=>[t(e(_e),{class:"mr-2 h-4 w-4"}),a[16]||(a[16]=n(" Kerjakan Tes ",-1))]),_:2,__:[16]},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),B.value.length===0?(u(),k(e(S),{key:0},{default:l(()=>[t(e(_),{class:"text-center text-muted-foreground",colspan:"8"},{default:l(()=>a[17]||(a[17]=[n(" Belum ada data siswa ",-1)])),_:1,__:[17]})]),_:1})):V("",!0)]),_:1})]),_:1})]),o.items.links.length?(u(),r("div",ke,[t(e(se),null,{default:l(()=>[t(e(ne),null,{default:l(()=>[(u(!0),r(c,null,g(o.items.links,(s,v)=>(u(),k(e(ue),{key:v,class:"select-none"},{default:l(()=>[s?.url?(u(),k(e(J),{key:0,class:O([[s.active?"bg-emerald-600 text-white hover:bg-emerald-700":"hover:bg-muted"],"rounded-md px-3 py-1 text-sm transition-colors"]),href:s.url,"preserve-scroll":!0,"preserve-state":!0,innerHTML:s.label},null,8,["class","href","innerHTML"])):(u(),r("span",{key:1,class:"rounded-md px-3 py-1 text-sm text-muted-foreground opacity-50",innerHTML:s.label},null,8,be))]),_:2},1024))),128))]),_:1})]),_:1})])):V("",!0)]),t(e(L),{open:$.value,"onUpdate:open":a[3]||(a[3]=s=>$.value=s)},{default:l(()=>[t(e(h),{class:"sm:max-w-lg"},{default:l(()=>[t(e(P),null,{default:l(()=>[t(e(F),null,{default:l(()=>a[18]||(a[18]=[n("Berkas Pendaftar",-1)])),_:1,__:[18]}),t(e(M),null,{default:l(()=>[n(i(p.value?.student_name||"-"),1)]),_:1})]),_:1}),d("div",ye,[(p.value?.files?.length||0)===0?(u(),r("div",$e,"Belum ada berkas.")):(u(),r("ul",we,[(u(!0),r(c,null,g(p.value?.files,(s,v)=>(u(),r("li",{key:v,class:"flex items-center justify-between rounded-md border p-2"},[d("span",null,i(s.label),1),s.path?(u(),r("a",{key:0,href:s.path,class:"inline-flex items-center text-emerald-700 hover:underline",rel:"noopener",target:"_blank"},[a[19]||(a[19]=n(" Buka ",-1)),t(e(j),{class:"ml-1 h-4 w-4"})],8,Te)):(u(),r("span",Ce,"-"))]))),128))]))]),t(e(q),null,{default:l(()=>[t(e(T),{variant:"secondary",onClick:a[2]||(a[2]=s=>$.value=!1)},{default:l(()=>a[20]||(a[20]=[n("Tutup",-1)])),_:1,__:[20]})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(L),{open:w.value,"onUpdate:open":a[5]||(a[5]=s=>w.value=s)},{default:l(()=>[t(e(h),{class:"sm:max-w-lg"},{default:l(()=>[t(e(P),null,{default:l(()=>[t(e(F),null,{default:l(()=>a[21]||(a[21]=[n("Daftar Tes",-1)])),_:1,__:[21]}),t(e(M),null,{default:l(()=>[n(i(p.value?.student_name||"-")+" — KKM: "+i(o.meta.passMark),1)]),_:1})]),_:1}),d("div",Se,[d("ul",Be,[(u(!0),r(c,null,g(o.meta.subjects,s=>(u(),r("li",{key:s.id,class:"flex items-center justify-between rounded-md border p-2"},[d("span",null,i(s.name),1),d("a",{href:s.link_url,class:"inline-flex items-center text-emerald-700 hover:underline",rel:"noopener",target:"_blank"},[a[22]||(a[22]=n(" Buka Tes ",-1)),t(e(j),{class:"ml-1 h-4 w-4"})],8,Ve)]))),128))])]),t(e(q),null,{default:l(()=>[t(e(T),{variant:"secondary",onClick:a[4]||(a[4]=s=>w.value=!1)},{default:l(()=>a[23]||(a[23]=[n("Tutup",-1)])),_:1,__:[23]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Re as default};
