import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-3cveP8dJ.js";import{d as J,c as O,g as p,k as Q,l as A,p as r,o as u,f as t,u as e,s as X,w as a,q as d,b as U,y as n,F as k,x as y,a as $,z as i,v as Y,A as Z}from"./app-BByGJHgL.js";import{_ as ee}from"./index-9v3VZE77.js";import{_ as v}from"./createLucideIcon-Cn7wMbCZ.js";import{_ as V,a as j,b as L,c as P,d as F,e as H}from"./DialogTitle.vue_vue_type_script_setup_true_lang-teFV4kbj.js";import{a as te,_ as le}from"./Label.vue_vue_type_script_setup_true_lang-B5UNn36A.js";import{S as ae,_ as se,a as ne,b as ue,c as re,d as ie,F as de,e as oe,f as fe,g as _e,E as q}from"./SelectValue.vue_vue_type_script_setup_true_lang-DfEA1XxG.js";import{_ as me,a as pe,b as D,c as m,d as ve,e as _}from"./TableHeader.vue_vue_type_script_setup_true_lang-CiNEXCM5.js";import{C as xe}from"./clipboard-list-CoiNVZaj.js";import{T as ke}from"./trash-2-pNH7JrLW.js";import"./useForwardExpose-DiSxg1hu.js";import"./Presence-UHlEpX6p.js";import"./SheetContent.vue_vue_type_script_setup_true_lang-BC6cCKyD.js";import"./VisuallyHidden-yMtFJvwq.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CQNj7ljZ.js";import"./check-DflgWvk8.js";import"./useFormControl-DWuRdrIc.js";const ce={class:"flex h-full flex-1 flex-col gap-4 p-4"},ge={class:"flex flex-col gap-3 md:flex-row md:items-end md:justify-between"},ye={class:"relative w-full md:max-w-md"},$e={class:"grid gap-1"},be={class:"rounded-xl border"},we={class:"flex justify-end gap-2"},Te={key:0,class:"flex items-center justify-center py-2"},Ce=["innerHTML"],Se={class:"space-y-2"},Be={key:0,class:"text-sm text-muted-foreground"},Ve={key:1,class:"space-y-2"},je=["href"],Le={key:1,class:"text-sm text-muted-foreground"},Pe={class:"space-y-2"},Fe={class:"space-y-2"},He=["href"],Xe=J({__name:"Applicants",props:{items:{},filters:{},meta:{}},setup(N){const f=N,E=[{title:"Pendaftar",href:route("admin.applicants.index")}],M=O(()=>(f.items.data||[]).filter(o=>!!o)),b=p(f.filters.q??""),w=p(String(f.filters.perPage??10));let B;Q([b,w],()=>{B&&clearTimeout(B),B=window.setTimeout(()=>{A.get(route("admin.applicants.index"),{q:b.value,perPage:w.value},{preserveScroll:!0,preserveState:!0,replace:!0,only:["items","filters","meta"]})},300)});const T=p(!1),C=p(!1),x=p(null),c=p(!1),S=p(null);function K(o){x.value=o,T.value=!0}function R(o){x.value=o,C.value=!0}function I(o){S.value=o,c.value=!0}function W(){S.value&&A.delete(route("admin.applicants.destroy",S.value),{preserveScroll:!0,onFinish:()=>{c.value=!1,S.value=null}})}function h(o){return o==="Lulus Tes"?"default":o==="Tidak Lulus Tes"?"destructive":"secondary"}return(o,l)=>(u(),r(k,null,[t(e(X),{title:"Pendaftar"}),t(G,{breadcrumbs:E},{default:a(()=>[d("div",ce,[d("div",ge,[d("div",ye,[t(e(ae),{class:"absolute top-1/2 left-2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),t(e(te),{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=s=>b.value=s),class:"pl-8",placeholder:"Cari siswa/wali/telepon…"},null,8,["modelValue"])]),d("div",$e,[t(e(le),{class:"text-xs"},{default:a(()=>l[8]||(l[8]=[n("Baris",-1)])),_:1,__:[8]}),t(e(se),{modelValue:w.value,"onUpdate:modelValue":l[1]||(l[1]=s=>w.value=s)},{default:a(()=>[t(e(ne),{class:"w-[110px]"},{default:a(()=>[t(e(ue),{placeholder:String(f.filters.perPage??10)},null,8,["placeholder"])]),_:1}),t(e(re),null,{default:a(()=>[(u(!0),r(k,null,y(f.meta.perPages,s=>(u(),$(e(ie),{key:s,value:String(s)},{default:a(()=>[n(i(s),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),d("div",be,[t(e(me),null,{default:a(()=>[t(e(pe),null,{default:a(()=>[t(e(D),null,{default:a(()=>[t(e(m),{class:"w-[48px] text-center"},{default:a(()=>l[9]||(l[9]=[n("#",-1)])),_:1,__:[9]}),t(e(m),null,{default:a(()=>l[10]||(l[10]=[n("Siswa",-1)])),_:1,__:[10]}),t(e(m),null,{default:a(()=>l[11]||(l[11]=[n("Wali",-1)])),_:1,__:[11]}),t(e(m),null,{default:a(()=>l[12]||(l[12]=[n("Telepon",-1)])),_:1,__:[12]}),t(e(m),null,{default:a(()=>l[13]||(l[13]=[n("Rata-rata",-1)])),_:1,__:[13]}),t(e(m),null,{default:a(()=>l[14]||(l[14]=[n("Status",-1)])),_:1,__:[14]}),t(e(m),null,{default:a(()=>l[15]||(l[15]=[n("Daftar",-1)])),_:1,__:[15]}),t(e(m),{class:"w-[260px] text-right"},{default:a(()=>l[16]||(l[16]=[n("Aksi",-1)])),_:1,__:[16]})]),_:1})]),_:1}),t(e(ve),null,{default:a(()=>[(u(!0),r(k,null,y(M.value,(s,g)=>(u(),$(e(D),{key:s.id},{default:a(()=>[t(e(_),{class:"text-center"},{default:a(()=>[n(i(g+1),1)]),_:2},1024),t(e(_),{class:"font-medium"},{default:a(()=>[n(i(s.student_name),1)]),_:2},1024),t(e(_),null,{default:a(()=>[n(i(s.guardian_name),1)]),_:2},1024),t(e(_),null,{default:a(()=>[n(i(s.guardian_phone),1)]),_:2},1024),t(e(_),null,{default:a(()=>[n(i(s.average_score??"-"),1)]),_:2},1024),t(e(_),null,{default:a(()=>[t(e(ee),{variant:h(s.status)},{default:a(()=>[n(i(s.status),1)]),_:2},1032,["variant"])]),_:2},1024),t(e(_),null,{default:a(()=>[n(i(s.created_at??"-"),1)]),_:2},1024),t(e(_),{class:"text-right"},{default:a(()=>[d("div",we,[t(e(v),{size:"sm",variant:"outline",onClick:z=>K(s)},{default:a(()=>[t(e(de),{class:"mr-2 h-4 w-4"}),l[17]||(l[17]=n(" Lihat Berkas ",-1))]),_:2,__:[17]},1032,["onClick"]),t(e(v),{class:"bg-emerald-600 text-white hover:bg-emerald-700",size:"sm",onClick:z=>R(s)},{default:a(()=>[t(e(xe),{class:"mr-2 h-4 w-4"}),l[18]||(l[18]=n(" Kerjakan Tes ",-1))]),_:2,__:[18]},1032,["onClick"]),t(e(v),{size:"sm",variant:"destructive",onClick:z=>I(s.id)},{default:a(()=>[t(e(ke),{class:"mr-2 h-4 w-4"}),l[19]||(l[19]=n(" Hapus ",-1))]),_:2,__:[19]},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128)),M.value.length===0?(u(),$(e(D),{key:0},{default:a(()=>[t(e(_),{class:"text-center text-muted-foreground",colspan:"8"},{default:a(()=>l[20]||(l[20]=[n("Belum ada data siswa",-1)])),_:1,__:[20]})]),_:1})):U("",!0)]),_:1})]),_:1})]),f.items.links.length?(u(),r("div",Te,[t(e(oe),null,{default:a(()=>[t(e(fe),null,{default:a(()=>[(u(!0),r(k,null,y(f.items.links,(s,g)=>(u(),$(e(_e),{key:g},{default:a(()=>[s?.url?(u(),$(e(Y),{key:0,class:Z([[s.active?"bg-emerald-600 text-white hover:bg-emerald-700":"hover:bg-muted"],"rounded-md px-3 py-1 text-sm transition-colors"]),href:s.url,"preserve-scroll":!0,"preserve-state":!0,innerHTML:s.label},null,8,["class","href","innerHTML"])):(u(),r("span",{key:1,class:"rounded-md px-3 py-1 text-sm text-muted-foreground opacity-50",innerHTML:s.label},null,8,Ce))]),_:2},1024))),128))]),_:1})]),_:1})])):U("",!0)]),t(e(V),{open:T.value,"onUpdate:open":l[3]||(l[3]=s=>T.value=s)},{default:a(()=>[t(e(j),{class:"sm:max-w-lg"},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(P),null,{default:a(()=>l[21]||(l[21]=[n("Berkas Pendaftar",-1)])),_:1,__:[21]}),t(e(F),null,{default:a(()=>[n(i(x.value?.student_name||"-"),1)]),_:1})]),_:1}),d("div",Se,[(x.value?.files?.length||0)===0?(u(),r("div",Be,"Belum ada berkas.")):(u(),r("ul",Ve,[(u(!0),r(k,null,y(x.value?.files,(s,g)=>(u(),r("li",{key:g,class:"flex items-center justify-between rounded-md border p-2"},[d("span",null,i(s.label),1),s.path?(u(),r("a",{key:0,href:s.path,class:"inline-flex items-center text-emerald-700 hover:underline",rel:"noopener",target:"_blank"},[l[22]||(l[22]=n(" Buka ",-1)),t(e(q),{class:"ml-1 h-4 w-4"})],8,je)):(u(),r("span",Le,"-"))]))),128))]))]),t(e(H),null,{default:a(()=>[t(e(v),{variant:"secondary",onClick:l[2]||(l[2]=s=>T.value=!1)},{default:a(()=>l[23]||(l[23]=[n("Tutup",-1)])),_:1,__:[23]})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(V),{open:C.value,"onUpdate:open":l[5]||(l[5]=s=>C.value=s)},{default:a(()=>[t(e(j),{class:"sm:max-w-lg"},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(P),null,{default:a(()=>l[24]||(l[24]=[n("Daftar Tes",-1)])),_:1,__:[24]}),t(e(F),null,{default:a(()=>[n(i(x.value?.student_name||"-")+" — KKM: "+i(f.meta.passMark),1)]),_:1})]),_:1}),d("div",Pe,[d("ul",Fe,[(u(!0),r(k,null,y(f.meta.subjects,s=>(u(),r("li",{key:s.id,class:"flex items-center justify-between rounded-md border p-2"},[d("span",null,i(s.name),1),d("a",{href:s.link_url,class:"inline-flex items-center text-emerald-700 hover:underline",rel:"noopener",target:"_blank"},[l[25]||(l[25]=n(" Buka Tes ",-1)),t(e(q),{class:"ml-1 h-4 w-4"})],8,He)]))),128))])]),t(e(H),null,{default:a(()=>[t(e(v),{variant:"secondary",onClick:l[4]||(l[4]=s=>C.value=!1)},{default:a(()=>l[26]||(l[26]=[n("Tutup",-1)])),_:1,__:[26]})]),_:1})]),_:1})]),_:1},8,["open"]),t(e(V),{open:c.value,"onUpdate:open":l[7]||(l[7]=s=>c.value=s)},{default:a(()=>[t(e(j),{class:"sm:max-w-md"},{default:a(()=>[t(e(L),null,{default:a(()=>[t(e(P),null,{default:a(()=>l[27]||(l[27]=[n("Hapus Pendaftar",-1)])),_:1,__:[27]}),t(e(F),null,{default:a(()=>l[28]||(l[28]=[n("Apakah Anda yakin ingin menghapus pendaftar ini? Tindakan tidak dapat dibatalkan.",-1)])),_:1,__:[28]})]),_:1}),t(e(H),null,{default:a(()=>[t(e(v),{variant:"secondary",onClick:l[6]||(l[6]=s=>c.value=!1)},{default:a(()=>l[29]||(l[29]=[n("Batal",-1)])),_:1,__:[29]}),t(e(v),{variant:"destructive",onClick:W},{default:a(()=>l[30]||(l[30]=[n("Hapus",-1)])),_:1,__:[30]})]),_:1})]),_:1})]),_:1},8,["open"])]),_:1})],64))}});export{Xe as default};
