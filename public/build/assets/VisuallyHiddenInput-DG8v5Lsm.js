import{d as B}from"./Presence-04swQcqv.js";import{P as w}from"./createLucideIcon-B64rjAQk.js";import{i as F,a as S,g as k,w as E,f as V,b as A,V as $}from"./VisuallyHidden-xk6Rx-wr.js";import{d as _,c as v,n as C,I as K,a as m,o as p,w as g,f as H,u as c,r as T,G as R,k as j,m as b,p as I,b as P,F as h,x as O}from"./app-FwtWfzSy.js";var M=_({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(f){const e=f,r=F(),d=B(),a=v(()=>e.tabStopId||d),n=v(()=>r.currentTabStopId.value===a.value),{getItems:s,CollectionItem:i}=S();C(()=>{e.focusable&&r.onFocusableItemAdd()}),K(()=>{e.focusable&&r.onFocusableItemRemove()});function y(t){if(t.key==="Tab"&&t.shiftKey){r.onItemShiftTab();return}if(t.target!==t.currentTarget)return;const u=k(t,r.orientation.value,r.dir.value);if(u!==void 0){if(t.metaKey||t.ctrlKey||t.altKey||!e.allowShiftKey&&t.shiftKey)return;t.preventDefault();let l=[...s().map(o=>o.ref).filter(o=>o.dataset.disabled!=="")];if(u==="last")l.reverse();else if(u==="prev"||u==="next"){u==="prev"&&l.reverse();const o=l.indexOf(t.currentTarget);l=r.loop.value?E(l,o+1):l.slice(o+1)}R(()=>V(l))}}return(t,u)=>(p(),m(c(i),null,{default:g(()=>[H(c(w),{tabindex:n.value?0:-1,"data-orientation":c(r).orientation.value,"data-active":t.active?"":void 0,"data-disabled":t.focusable?void 0:"",as:t.as,"as-child":t.asChild,onMousedown:u[0]||(u[0]=l=>{t.focusable?c(r).onItemFocus(a.value):l.preventDefault()}),onFocus:u[1]||(u[1]=l=>c(r).onItemFocus(a.value)),onKeydown:y},{default:g(()=>[T(t.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),W=M,D=_({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(f){const e=f,{primitiveElement:r,currentElement:d}=A(),a=v(()=>e.checked??e.value);return j(a,(n,s)=>{if(!d.value)return;const i=d.value,y=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(y,"value").set;if(u&&n!==s){const l=new Event("input",{bubbles:!0}),o=new Event("change",{bubbles:!0});u.call(i,n),i.dispatchEvent(l),i.dispatchEvent(o)}}),(n,s)=>(p(),m($,b({ref_key:"primitiveElement",ref:r},{...e,...n.$attrs},{as:"input"}),null,16))}}),q=D,N=_({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(f){const e=f,r=v(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),d=v(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((a,n)=>typeof a=="object"?Object.entries(a).map(([s,i])=>({name:`${e.name}[${n}][${s}]`,value:i})):{name:`${e.name}[${n}]`,value:a}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([a,n])=>({name:`${e.name}[${a}]`,value:n})):[]);return(a,n)=>(p(),I(h,null,[P(" We render single input if it's required "),r.value?(p(),m(q,b({key:a.name},{...e,...a.$attrs},{name:a.name,value:a.value}),null,16,["name","value"])):(p(!0),I(h,{key:1},O(d.value,s=>(p(),m(q,b({key:s.name},{ref_for:!0},{...e,...a.$attrs},{name:s.name,value:s.value}),null,16,["name","value"]))),128))],2112))}}),z=N;export{W as R,z as V};
